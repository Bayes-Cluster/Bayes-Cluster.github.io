"use strict";(self.webpackChunkbayes_cluster_github_io_source=self.webpackChunkbayes_cluster_github_io_source||[]).push([[3209],{2296:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"containerisation/kubeflow/spec","title":"Tensorboards and Volumes","description":"Tensorboards","source":"@site/docs/containerisation/kubeflow/spec.md","sourceDirName":"containerisation/kubeflow","slug":"/containerisation/kubeflow/spec","permalink":"/docs/containerisation/kubeflow/spec","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/containerisation/kubeflow/spec.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"NoteBook","permalink":"/docs/containerisation/kubeflow/notebook"},"next":{"title":"Authentication with Keycloak","permalink":"/docs/containerisation/auth"}}');var s=o(4848),r=o(8453);const i={sidebar_position:4},a="Tensorboards and Volumes",l={},d=[{value:"Tensorboards",id:"tensorboards",level:2},{value:"Volumes",id:"volumes",level:2},{value:"Create a Volume",id:"create-a-volume",level:3},{value:"Mounting a Volume to TensorBoard",id:"mounting-a-volume-to-tensorboard",level:2},{value:"Use Tensorboards after Experiment",id:"use-tensorboards-after-experiment",level:2}];function c(e){const n={admonition:"admonition",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"tensorboards-and-volumes",children:"Tensorboards and Volumes"})}),"\n",(0,s.jsx)(n.h2,{id:"tensorboards",children:"Tensorboards"}),"\n",(0,s.jsx)(n.p,{children:"Click on the Tensorboards tab in the left-hand menu of the Central Dashboard."}),"\n",(0,s.jsx)("img",{src:"https://mlops-for-all.github.io/en/assets/images/left-tabs-4290df638df45a698ebc615a5bcb5b86.png",alt:"Kubeflow Left Tab",height:"300"}),"\n",(0,s.jsx)(n.p,{children:"The TensorBoard server created in this way can be used just like a regular remote TensorBoard server. It can also be connected to Kubeflow Pipelines to automatically visualize training logs or metrics stored in shared volumes."}),"\n",(0,s.jsx)(n.h2,{id:"volumes",children:"Volumes"}),"\n",(0,s.jsx)(n.p,{children:"Next, click on the Volumes tab in the left-hand menu of the Central Dashboard."}),"\n",(0,s.jsx)("img",{src:"https://mlops-for-all.github.io/en/assets/images/left-tabs-4290df638df45a698ebc615a5bcb5b86.png",alt:"Kubeflow Left Tab",height:"300"}),"\n",(0,s.jsx)(n.p,{children:"You will see the following screen."}),"\n",(0,s.jsx)("img",{src:"https://mlops-for-all.github.io/en/assets/images/volumes-8a47fc94771470514efa705ec8b6d0fe.png",alt:"Kubeflow Volumes",height:"300"}),"\n",(0,s.jsx)(n.p,{children:"Volumes tab provides the functionality to manage the Persistent Volume Claims (PVC) belonging to the current user's namespace in Kubernetes' Volume (Volume)."}),"\n",(0,s.jsx)(n.p,{children:"In addition, the Volumes page can be used if you want to create, view, or delete a new Volume in the user namespace."}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"The created volume can be mounted on multiple containers, however it depends on the access modes you choose:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ReadWriteOnce: the volume can be mounted as read-write by a single pod. ReadWriteOnce access mode still can allow multiple pods to access (read from or write to) that volume when the pods are running on the same pod. (\u26a0\ufe0f Not recommended)"}),"\n",(0,s.jsx)(n.li,{children:"ReadOnlyMany: the volume can be mounted as read-only by many pods. (\u26a0\ufe0f Not recommended)"}),"\n",(0,s.jsx)(n.li,{children:"ReadWriteMany: the volume can be mounted as read-write by many pods. (\u2705 Recommended )"}),"\n"]})]}),"\n",(0,s.jsx)(n.h3,{id:"create-a-volume",children:"Create a Volume"}),"\n",(0,s.jsxs)(n.p,{children:["By clicking the ",(0,s.jsx)(n.code,{children:"+ NEW VOLUME"})," button at the top right, you can see the following screen."]}),"\n",(0,s.jsx)("img",{src:"https://mlops-for-all.github.io/en/assets/images/new-volume-b14c633d4f22b7948f111122da491ccd.png",alt:"Kubeflow Create Volumes",height:"300"}),"\n",(0,s.jsxs)(n.p,{children:["You can create a volume by specifying its name, size, ",(0,s.jsx)(n.del,{children:"storage class"}),", and access mode."]}),"\n",(0,s.jsx)(n.p,{children:"When you specify the desired resource specs to create a volume, its Status will be shown as Pending on this page. When you hover over the Status icon, you will see a message that this (This volume will be bound when its first consumer is created.)"}),"\n",(0,s.jsx)(n.p,{children:"When the Status is shown as Pending on this page, you can still specify the name of the volume in the notebook server or pod that you want to use the volume and the volume creation will be triggered at that time."}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["If you delete a Notebook Server, the volumes (PVCs) you created or attached to ",(0,s.jsx)(n.strong,{children:"it will not be deleted automatically"}),"."]})}),"\n",(0,s.jsx)(n.p,{children:"These volumes are persistent by design and remain in your namespace until you explicitly delete them. This allows you to retain your data even after deleting a notebook server, enabling you to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reuse the same volume when creating a new notebook server"}),"\n",(0,s.jsx)(n.li,{children:"Share data across different notebooks or workloads"}),"\n",(0,s.jsx)(n.li,{children:"Avoid unintentional data loss"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"mounting-a-volume-to-tensorboard",children:"Mounting a Volume to TensorBoard"}),"\n",(0,s.jsx)(n.p,{children:"Once you have created a volume (e.g., to store training logs), you can mount it to a new TensorBoard instance for visualization:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Go to the Tensorboards tab."}),"\n",(0,s.jsx)(n.li,{children:"Click + NEW TENSORBOARD."}),"\n",(0,s.jsxs)(n.li,{children:["Fill in the required fields:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Name: A unique name for the TensorBoard server."}),"\n",(0,s.jsx)(n.li,{children:"Log Directory:"}),"\n",(0,s.jsxs)(n.li,{children:["Use the volume you created earlier. For example: ",(0,s.jsx)(n.code,{children:"<your-volume-name>"})," (the exact mount path depends on your setup or image)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Under the Data Volumes section:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Click Add Volume."}),"\n",(0,s.jsx)(n.li,{children:"Select the PVC you just created."}),"\n",(0,s.jsxs)(n.li,{children:["Mount it to a path (e.g., ",(0,s.jsx)(n.code,{children:"/home/jovyan/.tensorboard-logs"}),")."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Click Launch."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Once started, TensorBoard will read logs from the mounted volume and render training metrics, loss curves, and other summaries."}),"\n",(0,s.jsx)(n.admonition,{type:"danger",children:(0,s.jsx)(n.p,{children:"This action is irreversible. Make sure to back up any important data before deleting a volume."})}),"\n",(0,s.jsx)(n.p,{children:"If you no longer need a volume:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Go to the Volumes tab in the left-hand panel."}),"\n",(0,s.jsx)(n.li,{children:"Locate the volume you want to delete."}),"\n",(0,s.jsx)(n.li,{children:"Click the trash bin icon next to it."}),"\n",(0,s.jsx)(n.li,{children:"Confirm the deletion."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"use-tensorboards-after-experiment",children:"Use Tensorboards after Experiment"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Run the experiment, here is a example code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import torch\nimport torch.nn as nn\nimport torch.optim as optim\nfrom torch.utils.tensorboard import SummaryWriter\n\nmodel = nn.Linear(1, 1)\n\ncriterion = nn.MSELoss()\noptimizer = optim.SGD(model.parameters(), lr=0.01)\nwriter = SummaryWriter(log_dir='runs/simple_example')\n\nx_train = torch.linspace(0, 10, 100).unsqueeze(1)\ny_train = 2 * x_train + 1\n\nfor epoch in range(100):\n    model.train()\n    \n    optimizer.zero_grad()\n    outputs = model(x_train)\n    loss = criterion(outputs, y_train)\n    loss.backward()\n    optimizer.step()\n\n    writer.add_scalar('Loss/train', loss.item(), epoch)\n    if epoch % 10 == 0:\n        print(f\"Epoch [{epoch}/100] Loss: {loss.item():.4f}\")\n\nwriter.close()\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Go to the Tensorboards tab and click [New TensorBoard]."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Fill in the required information on the New Tensorboard screen, then click [Create]."}),"\n",(0,s.jsx)(n.li,{children:"Choose the PVC that mounted on the home directory"}),"\n"]}),"\n",(0,s.jsx)("img",{src:"https://e4ac516.webp.ee/2025/08/kubeflow-tensorboard.png",alt:"Kubeflow Tensorboard",height:"300"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"After TensorBoard is created, it will appear in the list of active boards."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Click the [CONNECT] button to open and view the TensorBoard instance."}),"\n",(0,s.jsx)(n.li,{children:"This will open a new tab where TensorBoard is running and reading logs from the specified log directory."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>a});var t=o(6540);const s={},r=t.createContext(s);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);